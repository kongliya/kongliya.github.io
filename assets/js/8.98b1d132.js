(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{356:function(n,s,e){n.exports=e.p+"assets/img/angular-environment.ae3398ce.png"},375:function(n,s,e){"use strict";e.r(s);var t=e(42),a=Object(t.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"angular4配置环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#angular4配置环境变量"}},[n._v("#")]),n._v(" angular4配置环境变量")]),n._v(" "),t("p",[n._v("因为公司有个项目要做自动化构建，方便起见，优化了下环境配置。 所以记录如下：")]),n._v(" "),t("p",[n._v("angular4中配置文件名为.angular-cli.json")]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v('"environmentSource": "environments/environment.ts",  // 默认环境文件;\n    "environments": {\n    "dev": "environments/environment.ts",  // 开发环境配置文件;\n    "prod": "environments/environment.prod.ts",  // 生产环境配置文件;\n    "test": "environments/environment.test.ts"   // 测试环境配置文件;\n}\n')])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br")])]),t("p",[n._v("目录结构大概是在这里：")]),n._v(" "),t("p",[t("img",{attrs:{src:e(356),alt:"angular4-environment"}})]),n._v(" "),t("p",[n._v("environment.ts")]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("// 开发环境;\nexport const environment = {\n  production: false,\n  变量名1: 'http://**********',  // 对应地址; 因为我们项目中可能引用的并不只有一个地址;\n  变量名2: 'http://**********',  // .......\n  isPass: true,  // 定义变量; (我理解的是可以定义如上的这种变量,心血来潮改为false以及注释掉发现都没影响....==。)\n};\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br")])]),t("p",[n._v("生产环境以及测试环境配置均如上类似。")]),n._v(" "),t("p",[n._v("配置后我以为就完了，serve的时候发现地址没引用过来，感谢头儿的提醒说引用一下。")]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("// 资源文件中引用;\nimport { environment} from '../../environments/environment';\n\nexport const ResourceStatic = {\n  '代码中引用的环境变量名1': environment.变量名1,\n  '代码中引用的环境变量名2': environment.变量名2,\n  ......\n}\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br")])]),t("p",[n._v("本地起服务测试：")]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("ng serve --env=prod/test/dev    // 运行分别的环境配置即可 名字为.angular-cli.json中起的变量名;\nng serve --environment=prod/test/dev    // 等同于上边的写法;\n\nng build --env=prod/test/dev\nng build --environment=prod/test/dev    // build类似;\n\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);